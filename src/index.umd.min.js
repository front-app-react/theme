!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("styled-components")):"function"==typeof define&&define.amd?define(["exports","react","styled-components"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FrontAppReactTheme={},e.React,e.styled)}(this,(function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!==o(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===o(e)?e:String(e)}function i(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c=((a={})[a.lightest=-2]="lightest",a[a.lighter=-1]="lighter",a[a.default=0]="default",a[a.darker=1]="darker",a[a.darkest=2]="darkest",a);var a;class l{constructor(){i(this,"_data",{})}clear(){this.t={}}getItem(e){return this.t[e]}setItem(e,t){this.t[e]=t}removeItem(e){delete this.t[e]}get length(){return Object.getOwnPropertyNames(this.t).length}key(e){return Object.getOwnPropertyNames(this.t)[e]}}function s(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);e=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i.exec(e);let n=0,o=0,r=0;return t&&4===t.length?(n=parseInt(t[1],16),o=parseInt(t[2],16),r=parseInt(t[3],16)):e&&4<=e.length&&(n=parseInt(e[1]),o=parseInt(e[2]),r=parseInt(e[3])),{r:n,g:o,b:r}}function f(e,t,n){let{r:o,g:r,b:i}=e;return 255<(o+=t)?o=255:o<0&&(o=0),255<(r=(255&r)+t)?r=255:r<0&&(r=0),255<(i=(255&i)+t)?i=255:i<0&&(i=0),`rgba(${o},${r},${i},${n})`}const g=async(e,t)=>("sizing"===e?await fetch(process.env.PUBLIC_URL+"/theme/sizing.json"):"color"===t?await fetch(process.env.PUBLIC_URL+`/theme/colors/${e}.json`):await fetch(process.env.PUBLIC_URL+`/langs/${e}.json`)).json();function u(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)),o}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p={"theme.dir":"ltr","theme.locale":"en-US","theme.language":"english","theme.langLabel":"en"},d=(e,n,o)=>{const[r,i]=t.useState({dictionary:p,loading:!0});return{dictionary:r.dictionary,onChange:async t=>{let c;if(i((e=>y(y({},e),{},{loading:!0}))),"string"==typeof t)try{c=await o(t),console.log("lang async 1")}catch(t){}else c=t,console.log("lang 1");return n.setItem(e+"-lang",c?.["theme.locale"]||r.dictionary["theme.locale"]),i((e=>y(y({},e),{},{dictionary:c,loading:!1}))),console.log("lang async 2"),c||r.dictionary},loading:r.loading}};function h(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)),o}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const m=(e,n,o,r)=>{const[i,c]=t.useState({color:{data:{},name:""},sizing:"function"!=typeof r?r:{btn:{},input:{}},loadingSizing:"function"==typeof r,loadingColor:!0,loading:!0});t.useEffect((()=>{if("function"==typeof r)return c((e=>b(b({},e),{},{loadingSizing:!0}))),r().then((e=>{c((t=>b(b({},t),{},{loadingSizing:!1,sizing:e})))})).catch((e=>{c((e=>b(b({},e),{},{loadingSizing:!1})))})),()=>{}}),[]);var a=t.useCallback(((e,t,n)=>{if("transparent"===e)return"transparent";console.log({state:i});var o=s(i.color&&e?i.color.data[e]:"#000000");switch(n=void 0!==n?n:1,t){case 1:return f(o,-15,n);case 2:return f(o,-30,n);case-1:return f(o,15,n);case-2:return f(o,30,n);default:return f(o,0,n)}}),[i]);return b(b({},i),{},{onChange:async t=>{let r;if(c((e=>b(b({},e),{},{loadingColor:!0}))),"string"==typeof t)try{r=await o(t),console.log("color async 1")}catch(t){}else r=t,console.log("color 1");return n.setItem(e+"-color",r.name||i.color),c((e=>b(b({},e),{},{color:r,loadingColor:!1}))),console.log("color async 2"),r||i.color},getColor:a,loading:i.loadingColor&&i.loadingSizing})};e.IMoodColor=c,e.ThemeProvider=({children:e,prefix:o,storage:r=new l,defaultLang:i,defaultColor:c,defaultSizing:a})=>{const s=m(o,r,"function"!=typeof c||"string"==typeof c?e=>g(e,"color"):c,void 0===a?()=>g("sizing"):a),f=d(o,r,"function"!=typeof i||"string"==typeof i?e=>g(e,"lang"):i);return t.useEffect((()=>((async()=>{var e=r.getItem(o+"-lang"),t=r.getItem(o+"-color");e?f.onChange(e):"object"==typeof i&&i.fetch&&"function"==typeof i.fetch?(e=await i.fetch(i.value),f.onChange(e)):f.onChange(i),t?s.onChange(t):"object"==typeof(e=c)&&e.fetch&&"function"==typeof e.fetch?(t=await e.fetch(e.value),s.onChange(t)):s.onChange(e)})(),()=>{})),[]),t.createElement(n.ThemeProvider,{theme:{style:s,lang:f}},e)},e.ThemeStorage=l,e.convertRgb=s,e.defaultFetch=g,e.lightenDarkenColor=f,e.useLang=d,e.useStyle=m,e.useTheme=()=>t.useContext(n.ThemeContext)}));
